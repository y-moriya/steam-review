# ユーザーレビュー：リストの取得

## 概要

Steamworksドキュメント > ストアプレゼンス > ユーザーレビュー：リストの取得

Steam上のアプリケーションのレビューのダンプを取得する場合は、下記のパラメーターと以下のメソッドを使用します。

### エンドポイント

```
GET store.steampowered.com/appreviews/<appid>?json=1
```

### リクエストパラメーター

| 名前   | 型     | 必須 | 説明                                                                                                                                                                                                      |
| ------ | ------ | ---- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| filter | string | ✔    | - `recent`：作成日時による並び替え<br>- `updated`：最終更新日時による並び替え<br>- `all`：（デフォルト）有用性による並び替え。day_rangeパラメーターに基づくスライディングウィンドウ。常に結果を返します。 |

※
cursorでレビューをページングする場合、最終的に空のレスポンスリストを受信するようにrecentオプション、またはupdatedオプションを選択します。

| 名前                     | 型     | 必須 | 説明                                                                                                                                                                                                                                    |
| ------------------------ | ------ | ---- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| language                 | string | ✔    | [言語コード一覧](https://partner.steamgames.com/doc/store/localization/languages)を参照する（およびAPI言語コードリストを使用する）か、すべてのレビューに`all`を渡します。                                                               |
| day_range                | string | ✔    | 現在からn日前までに参考になったレビューを検索する範囲です。`all`フィルターにのみ適用されます（最大値は365）。                                                                                                                           |
| cursor                   | string | ✔    | レビューは20個のバッチで返されるため、最初のセットには`*`を渡し、次のセットの応答の中に返される`cursor`の値を渡します。cursor値には、クエリ文字列で使用するためにURLEncodedが必要な文字が含まれている場合があることに注意してください。 |
| review_type              | string | ✔    | - `all`：すべてのレビュー（デフォルト）<br>- `positive`：肯定的なレビューのみ<br>- `negative`：否定的なレビューのみ                                                                                                                     |
| purchase_type            | string | ✔    | - `all`：すべてのレビュー<br>- `non_steam_purchase`：Steam上で製品を購入しなかったユーザーによるレビュー<br>- `steam`：Steam上で製品を購入したユーザーによるレビュー（デフォルト）                                                      |
| num_per_page             | string | ✔    | デフォルトでは、最大20件のレビューを返します。このパラメーターに基づいてさらにレビューを返すことができます（最大は100レビュー）                                                                                                         |
| filter_offtopic_activity | number |      | デフォルトでは、トピずれのレビュー（別名"レビュー荒らし"）はフィルターで除外され、このAPIでは返されません。それらを含めるには`0`を渡します。                                                                                            |

### レスポンス

パラメーターに一致するJSON形式のレビューのリストを`info`フィールドとともに返します。JSONの文字列にはエスケープシーケンスが含まれていることがあり、その場合は応答内のデータを使用する前にエスケープを解除する必要があります。

#### レスポンスフィールド

| フィールド        | 説明                                                                 |
| ----------------- | -------------------------------------------------------------------- |
| success           | クエリが成功すると1を返します                                        |
| query_summary     | 最初のリクエストに返されます                                         |
| num_reviews       | この応答に返されたレビューの数                                       |
| review_score      | レビュースコア                                                       |
| review_score_desc | レビュースコアの説明                                                 |
| total_positive    | 肯定的なレビューの総数                                               |
| total_negative    | 否定的なレビューの総数                                               |
| total_reviews     | クエリパラメーターと合致するレビューの総数                           |
| cursor            | バッチのレビューを取得するためのcursorとして、次のリクエストに渡す値 |

#### レビューオブジェクト

| フィールド       | 説明               |
| ---------------- | ------------------ |
| recommendationid | おすすめの固有のID |

#### レビュー作成者情報

| フィールド             | 説明                           |
| ---------------------- | ------------------------------ |
| author.steamid         | ユーザーのSteamID              |
| author.num_games_owned | ユーザーが所有するゲームの数   |
| author.num_reviews     | ユーザーが投稿したレビューの数 |

#### プレイ時間情報

| フィールド              | 説明                                               |
| ----------------------- | -------------------------------------------------- |
| playtime_forever        | このアプリに記録された通算プレイ時間               |
| playtime_last_two_weeks | 過去2週間でこのアプリに記録されたプレイ時間        |
| playtime_at_review      | レビューが書かれた時点でのプレイ時間               |
| deck_playtime_at_review | レビューが書かれた時点でのSteam Deckでのプレイ時間 |
| last_played             | ユーザーが最後にプレイした時間                     |

#### レビュー内容

| フィールド          | 説明                                             |
| ------------------- | ------------------------------------------------ |
| language            | レビュー作成時にユーザーが指定した言語           |
| review              | レビュー内容のテキスト                           |
| timestamp_created   | レビューの作成日（unixタイムスタンプ）           |
| timestamp_updated   | レビューの最終更新日（unixタイムスタンプ）       |
| voted_up            | `true`は、肯定的なおすすめであることを意味します |
| votes_up            | このレビューが参考になったと評価したユーザー数   |
| votes_funny         | このレビューを面白いと評価したユーザー数         |
| weighted_vote_score | 参考になったスコア                               |
| comment_count       | このレビューに対するコメント数                   |

#### 購入・アクセス情報

| フィールド                  | 説明                                                                               |
| --------------------------- | ---------------------------------------------------------------------------------- |
| steam_purchase              | ユーザーがゲームをSteamで購入した場合は`true`                                      |
| received_for_free           | ユーザーが「アプリを無料で入手」のボックスにチェックを入れた場合は`true`           |
| written_during_early_access | 早期アクセス期間中にユーザーがゲームのレビューを投稿した場合は`true`               |
| primarily_steam_deck        | このレビュアーが、レビュー執筆時点でこのゲームを主にSteam Deckでプレイしたかどうか |

#### 開発者レスポンス

| フィールド              | 説明                                                   |
| ----------------------- | ------------------------------------------------------ |
| developer_response      | 開発元からのテキスト（ある場合）                       |
| timestamp_dev_responded | Unixタイムスタンプでの開発元からの回答時間（ある場合） |
